(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-df7b"],{"22oc":function(e,t,a){"use strict";var l=a("t3Un");t.a={save:function(e){return Object(l.a)({url:"/bankKnowledge/add",method:"post",data:e})},list:function(e){return Object(l.a)({url:"/bankKnowledge/list",method:"post",data:e})},get:function(e){return Object(l.a)({url:"/bankKnowledge/get/"+e,method:"get"})},allByBank:function(e){return Object(l.a)({url:"/bankKnowledge/all/"+e,method:"get"})},all:function(){return Object(l.a)({url:"/bankKnowledge/all",method:"get"})},update:function(e){return Object(l.a)({url:"/bankKnowledge/update",method:"put",data:e})},delete:function(e){return Object(l.a)({url:"/bankKnowledge/delete/"+e,method:"delete"})}}},G0mN:function(e,t,a){"use strict";var l=a("tCaQ");a.n(l).a},Qg20:function(e,t,a){"use strict";var l=a("t3Un");t.a={save:function(e){return Object(l.a)({url:"/room/add",method:"post",data:e})},list:function(e){return Object(l.a)({url:"/room/list",method:"post",data:e})},delete:function(e){return Object(l.a)({url:"/room/delete/"+e,method:"delete"})},get:function(e){return Object(l.a)({url:"/room/get/"+e,method:"get"})},update:function(e){return Object(l.a)({url:"/room/update",method:"put",data:e})},free:function(e){return Object(l.a)({url:"/room/freeList/"+e,method:"get"})},all:function(){return Object(l.a)({url:"/room/all",method:"get"})}}},XOmB:function(e,t,a){"use strict";a.r(t);var l=a("t3Un"),n=function(e){return Object(l.a)({url:"/exam/create",method:"post",data:e})},r=function(e){return Object(l.a)({url:"/exam/list",method:"post",data:e})},o=function(e){return Object(l.a)({url:"/exam/delete/"+e,method:"delete"})},i=function(e){return Object(l.a)({url:"/exam/get/"+e,method:"get"})},s=function(e){return Object(l.a)({url:"/exam/update",method:"put",data:e})},u=function(e){return Object(l.a)({url:"/exam/info/"+e,method:"get"})},d=a("twU4"),c=function(e){return Object(l.a)({url:"/examTeacher/add",method:"post",data:e})},m=function(e){return Object(l.a)({url:"/examTeacher/getList/"+e,method:"get"})},p=function(e){return Object(l.a)({url:"/examTeacher/delete/"+e,method:"delete"})},g=function(e){return Object(l.a)({url:"/examStudent/list",method:"post",data:e})},f=function(e){return Object(l.a)({url:"/examStudent/getList/"+e,method:"get"})},h=function(e){return Object(l.a)({url:"/examStudent/add",method:"post",data:e})},b=function(e,t){return Object(l.a)({url:"/examStudent/addList/"+t,method:"post",data:e})},v=function(e){return Object(l.a)({url:"/examStudent/delete/"+e,method:"delete",data:e})},x=a("mvtb"),_=a("Qg20"),y=a("bEmV"),k=a("oBwb"),w=a("22oc"),I={data:function(){return{permission:this.$store.getters.auths,dialogFormVisible:!1,dialogAddTeacher:!1,dialogAddStudent:!1,dialogTeacherList:!1,dialogExamInfo:!1,dialogStudentList:!1,timeInterval:null,dialogGa:!1,dialogTitle:"新增教室",page:{currentPage:1,currentCount:10,totalCount:null,totalPage:null,sortName:"",sortOrder:"asc",params:{},list:[]},roomList:[],paperList:[],teacherList:[],exam:{},examTeacher:{},examTeacherList:[],studentPage:{currentPage:1,currentCount:10,totalCount:null,totalPage:null,sortName:"",sortOrder:"asc",params:{examId:""},list:[]},collegeList:[],majorList:[],admissionTime:null,selectIds:[],examStudent:{},examStudentList:[],examInfo:{paper:{},room:{},studentList:[],teacherList:[]},gaPaper:{paperId:"",configList:[{totalScore:0,questionNum:0,difficulty:1,typeId:"",knowledgeIds:[]}]},knowList:[],typeList:[]}},created:function(){this.list(),this.getPaperList(),this.getMajor(),this.getCollege(),this.getType("")},methods:{handleSizeChange:function(e){this.page.currentCount=e,this.list()},handleCurrentChange:function(e){this.page.currentPage=e,this.list()},sortHandler:function(e){this.page.sortName=e.prop,this.page.sortOrder=e.order,this.list()},handleStudentSizeChange:function(e){this.studentPage.currentCount=e,this.getStudentPage()},handleStudentCurrentChange:function(e){this.studentPage.currentPage=e,this.getStudentPage()},sortStudentHandler:function(e){this.studentPage.sortName=e.prop,this.studentPage.sortOrder=e.order,this.getStudentPage()},save:function(){var e=this;""==this.exam.examId?n(this.exam).then(function(t){200==t.code&&(e.$message.success(t.msg),e.dialogFormVisible=!1,e.list())}):s(this.exam).then(function(t){200==t.code&&(e.$message.success(t.msg),e.dialogFormVisible=!1,e.list())})},list:function(){var e=this;this.exam.examId="",this.$store.commit("SET_LOADING",!0),null!=this.timeInterval?(this.page.params.startTime=this.timeInterval[0],this.page.params.endTime=this.timeInterval[1]):(this.page.params.startTime="",this.page.params.endTime=""),r(this.page).then(function(t){200==t.code&&(e.page=t.data)})},getRoomList:function(e){var t=this;_.a.free(e).then(function(e){t.roomList=e.data})},getPaperList:function(){var e=this;y.a.all().then(function(t){e.paperList=t.data})},toUpdate:function(e){var t=this;i(e).then(function(e){200==e.code&&(t.exam=e.data,t.getRoomList(e.data.examRoom),t.dialogTitle="修改考试",t.dialogFormVisible=!0)})},toAdd:function(){this.getRoomList(null),this.dialogTitle="创建考试",this.dialogFormVisible=!0},deleteById:function(e){var t=this;this.$confirm("确定删除这条记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(function(){o(e).then(function(e){200==e.code?t.$message.success(e.msg):t.$message.error("删除失败"),t.list()})})},getFreeTeacherList:function(){var e=this;x.a.freeList().then(function(t){e.teacherList=t.data})},getTeacherList:function(e){var t=this;m(e).then(function(e){t.examTeacherList=e.data,t.dialogTeacherList=!0})},getStudentList:function(e){var t=this;f(e).then(function(e){t.examStudentList=e.data,t.dialogStudentList=!0})},toAddTeacher:function(e){this.examTeacher.ttExam=e,this.getFreeTeacherList(),this.dialogAddTeacher=!0},addTeacher:function(){var e=this;this.$store.commit("SET_LOADING",!0),c(this.examTeacher).then(function(t){e.$message.success(t.msg),e.dialogAddTeacher=!1,e.getTeacherList(e.examTeacher.ttExam)})},deleteTeacherById:function(e,t){var a=this;this.$confirm("确定取消该教师的监考资格吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(function(){p(e).then(function(e){200===e.code?a.$message.success(e.msg):a.$message.error("删除失败"),a.getTeacherList(t)})})},deleteStudentById:function(e,t){var a=this;this.$confirm("确定取消该考生的考试资格吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(function(){v(e).then(function(e){200===e.code?a.$message.success(e.msg):a.$message.error("删除失败"),a.getStudentList(t)})})},getStudentPage:function(){var e=this;null!=this.timeInterval?(this.studentPage.params.startTime=this.timeInterval[0],this.studentPage.params.endTime=this.timeInterval[1]):(this.studentPage.params.startTime="",this.studentPage.params.endTime=""),g(this.studentPage).then(function(t){e.studentPage=t.data,e.dialogAddStudent=!0})},toAddStudent:function(e){this.studentPage.params.examId=e,this.getStudentPage()},getCollege:function(){var e=this;d.a.all({dictType:"college"}).then(function(t){e.collegeList=t.data})},getMajor:function(){var e=this;d.a.all({dictType:"major"}).then(function(t){e.majorList=t.data})},addStudent:function(e){var t=this;this.examStudent.stStu=e,this.examStudent.stExam=this.studentPage.params.examId,h(this.examStudent).then(function(e){t.$message.success(e.msg),t.getStudentPage(t.examStudent.stExam)})},addStudentBatch:function(){var e=this;b(this.selectIds,this.studentPage.params.examId).then(function(t){e.$message.success(t.msg),e.getStudentPage(e.examStudent.stExam)})},changeSelect:function(e){var t=e.map(function(e){return e.student.stuId});this.selectIds=t},getInfo:function(e){var t=this;this.$store.commit("SET_LOADING",!0),u(e).then(function(e){t.examInfo=e.data,t.dialogExamInfo=!0})},createPaper:function(e){var t=this;this.$confirm("该功能会为每一位学生生成不同的试卷，已生成试卷的学生不会重复生成，生成过程比较漫长，是否等待?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"primary"}).then(function(){t.gaPaper.paperId=e.paper.paperId,t.getKnowledge(e.paper.paperBank),t.dialogGa=!0})},getGaType:function(e){var t=this;k.a.allByKnowIds(e).then(function(e){t.typeList=e.data})},getKnowledge:function(e){var t=this;w.a.allByBank(e).then(function(e){t.knowList=e.data})},getType:function(e){var t=this;""==e?k.a.all().then(function(e){t.typeList=e.data}):k.a.allByKnow(e).then(function(e){t.typeList=e.data})},removeConfig:function(e){var t=this.gaPaper.configList.indexOf(e);-1!==t&&this.gaPaper.configList.splice(t,1)},addConfig:function(){this.gaPaper.configList.push({totalScore:0,questionNum:0,difficulty:1,typeId:"",knowledgeIds:[]})},gaSubmit:function(){var e=this;this.$confirm("智能组卷提交后不可修改，确定提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){console.log(e,gaPaper)})}}},T=(a("G0mN"),a("ZrdR")),S=Object(T.a)(I,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"table-header"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.page,size:"mini"}},[a("el-form-item",{attrs:{label:"考场"}},[a("el-input",{attrs:{placeholder:"考场",clearable:""},model:{value:e.page.params.examRoom,callback:function(t){e.$set(e.page.params,"examRoom",t)},expression:"page.params.examRoom"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"创建人"}},[a("el-input",{attrs:{placeholder:"创建人",clearable:""},model:{value:e.page.params.examDate,callback:function(t){e.$set(e.page.params,"examDate",t)},expression:"page.params.examDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择",clearable:""},model:{value:e.page.params.examState,callback:function(t){e.$set(e.page.params,"examState",t)},expression:"page.params.examState"}},[a("el-option",{key:"0",attrs:{label:"未开始",value:"0"}}),e._v(" "),a("el-option",{key:"1",attrs:{label:"已开始",value:"1"}}),e._v(" "),a("el-option",{key:"2",attrs:{label:"已结束",value:"2"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"考试类型"}},[a("el-select",{attrs:{filterable:"",placeholder:"考试类型",clearable:""},model:{value:e.page.params.examType,callback:function(t){e.$set(e.page.params,"examType",t)},expression:"page.params.examType"}},[a("el-option",{key:"0",attrs:{label:"测试",value:"0"}}),e._v(" "),a("el-option",{key:"1",attrs:{label:"考试",value:"1"}}),e._v(" "),a("el-option",{key:"2",attrs:{label:"补考",value:"2"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"考试日期"}},[a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"datetimerange","value-format":"yyyy-MM-dd HH:mm:ss","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.timeInterval,callback:function(t){e.timeInterval=t},expression:"timeInterval"}})],1)]),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.list}},[e._v("查询")])],1)],1),e._v(" "),a("el-divider"),e._v(" "),e.permission.indexOf("ex:exam:add")>=0?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.toAdd}},[e._v("添加")]):e._e()],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:this.$store.getters.loading,expression:"this.$store.getters.loading"}],staticStyle:{width:"100%"},attrs:{data:e.page.list,border:"",stripe:"",size:"mini"},on:{"sort-change":e.sortHandler}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"examDate",sortable:"custom",label:"考试日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"room.roomName",sortable:"custom",label:"考场"}}),e._v(" "),a("el-table-column",{attrs:{prop:"examTime",sortable:"custom",label:"考试时间/分钟"}}),e._v(" "),a("el-table-column",{attrs:{prop:"paper.paperTitle",sortable:"custom",label:"所用试卷"}}),e._v(" "),a("el-table-column",{attrs:{prop:"teacher.teacherName",sortable:"custom",label:"创建人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"examCreateTime",sortable:"custom",label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"custom",label:"考试类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.examType?a("el-tag",{attrs:{type:"info"}},[e._v("平常测试")]):e._e(),e._v(" "),1==t.row.examType?a("el-tag",{attrs:{type:"success"}},[e._v("考试")]):e._e(),e._v(" "),2==t.row.examType?a("el-tag",{attrs:{type:"error"}},[e._v("补考")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{sortable:"custom",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.examState?a("el-tag",{attrs:{type:"info"}},[e._v("未开始")]):e._e(),e._v(" "),1==t.row.examState?a("el-tag",{attrs:{type:"success"}},[e._v("已开始")]):e._e(),e._v(" "),2==t.row.examState?a("el-tag",{attrs:{type:"error"}},[e._v("已结束")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-dropdown",[a("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("\n            操作\n            "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[e.permission.indexOf("ex:exam:update")>=0?a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){e.toUpdate(t.row.examId)}}},[e._v("编辑")]):e._e()],1),e._v(" "),a("el-dropdown-item",[e.permission.indexOf("ex:insp:add")>=0&&0==t.row.examState?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.toAddTeacher(t.row.examId)}}},[e._v("添加监考老师")]):e._e()],1),e._v(" "),a("el-dropdown-item",[e.permission.indexOf("ex:insp:list")>=0?a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){e.getTeacherList(t.row.examId)}}},[e._v("查看监考老师")]):e._e()],1),e._v(" "),a("el-dropdown-item",[e.permission.indexOf("ex:exam:stu:add")>=0?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.toAddStudent(t.row.examId)}}},[e._v("添加学生")]):e._e()],1),e._v(" "),a("el-dropdown-item",[e.permission.indexOf("ex:exam:stu:list")>=0?a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){e.getStudentList(t.row.examId)}}},[e._v("查看学生")]):e._e()],1),e._v(" "),a("el-dropdown-item",[e.permission.indexOf("ex:exam:info")>=0?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.getInfo(t.row.examId)}}},[e._v("考试详情")]):e._e()],1),e._v(" "),a("el-dropdown-item",[e.permission.indexOf("ex:exam:paper:create")>=0?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.createPaper(t.row)}}},[e._v("生成试卷")]):e._e()],1),e._v(" "),a("el-dropdown-item",[e.permission.indexOf("ex:exam:delete")>=0?a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.deleteById(t.row.examId)}}},[e._v("删除")]):e._e()],1)],1)],1)]}}])})],1),e._v(" "),a("div",{staticClass:"page-div"},[a("el-pagination",{attrs:{"current-page":e.page.currentPage,"page-sizes":[10,15,20,30],"page-size":e.page.currentCount,layout:"total, sizes, prev, pager, next, jumper",total:e.page.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:this.$store.getters.loading,expression:"this.$store.getters.loading"}],attrs:{title:e.dialogTitle,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.exam,"label-width":"80px",size:"mini"}},[a("el-form-item",{attrs:{label:"考场"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择",clearable:""},model:{value:e.exam.examRoom,callback:function(t){e.$set(e.exam,"examRoom",t)},expression:"exam.examRoom"}},e._l(e.roomList,function(e){return a("el-option",{key:e.roomId,attrs:{label:e.roomName,value:e.roomId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"考试日期"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"考试日期","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.exam.examDate,callback:function(t){e.$set(e.exam,"examDate",t)},expression:"exam.examDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"考试时间"}},[a("el-input",{attrs:{clearable:""},model:{value:e.exam.examTime,callback:function(t){e.$set(e.exam,"examTime",t)},expression:"exam.examTime"}},[a("template",{slot:"append"},[e._v("分钟")])],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"试卷"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择考试所用试卷",clearable:""},model:{value:e.exam.examPaper,callback:function(t){e.$set(e.exam,"examPaper",t)},expression:"exam.examPaper"}},e._l(e.paperList,function(e){return a("el-option",{key:e.paperId,attrs:{label:e.paperTitle,value:e.paperId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"考试类型"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择",clearable:""},model:{value:e.exam.examType,callback:function(t){e.$set(e.exam,"examType",t)},expression:"exam.examType"}},[a("el-option",{key:"0",attrs:{label:"平常测试",value:"0"}}),e._v(" "),a("el-option",{key:"1",attrs:{label:"普通考试",value:"1"}}),e._v(" "),a("el-option",{key:"2",attrs:{label:"补考",value:"2"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",clearable:""},model:{value:e.exam.examComment,callback:function(t){e.$set(e.exam,"examComment",t)},expression:"exam.examComment"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")])],1)],1)],1),e._v(" "),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:this.$store.getters.loading,expression:"this.$store.getters.loading"}],attrs:{visible:e.dialogAddTeacher,title:"添加监考教师"},on:{"update:visible":function(t){e.dialogAddTeacher=t}}},[a("el-form",{attrs:{model:e.examTeacher,"label-width":"80px",size:"mini"}},[a("el-form-item",{attrs:{label:"监考教师"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择",clearable:""},model:{value:e.examTeacher.ttTeacher,callback:function(t){e.$set(e.examTeacher,"ttTeacher",t)},expression:"examTeacher.ttTeacher"}},e._l(e.teacherList,function(e){return a("el-option",{key:e.teacherId,attrs:{label:e.teacherName,value:e.teacherId}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.addTeacher}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogAddTeacher=!1}}},[e._v("取消")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogTeacherList,title:"监考教师"},on:{"update:visible":function(t){e.dialogTeacherList=t}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:this.$store.getters.loading,expression:"this.$store.getters.loading"}],staticStyle:{width:"100%"},attrs:{data:e.examTeacherList,border:"",stripe:"",size:"mini"}},[a("el-table-column",{attrs:{prop:"teacher.teacherNumber",label:"工号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"teacher.teacherName",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{label:"性别"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(1==t.row.teacher.teacherSex?"男":"女"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"teacher.teacherAge",label:"年龄"}}),e._v(" "),a("el-table-column",{attrs:{prop:"teacher.teacherEntryTime",label:"入职时间"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.permission.indexOf("ex:insp:delete")>=0?a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.deleteTeacherById(t.row.ttId,t.row.ttExam)}}},[e._v("删除")]):e._e()]}}])})],1)],1),e._v(" "),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:this.$store.getters.loading,expression:"this.$store.getters.loading"}],attrs:{visible:e.dialogAddStudent,title:"添加学生",width:"85%"},on:{"update:visible":function(t){e.dialogAddStudent=t}}},[a("div",{staticClass:"table-header"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.studentPage,size:"mini"}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{placeholder:"学生名",clearable:""},model:{value:e.studentPage.params.stuName,callback:function(t){e.$set(e.studentPage.params,"stuName",t)},expression:"studentPage.params.stuName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"学号"}},[a("el-input",{attrs:{placeholder:"学号",clearable:""},model:{value:e.studentPage.params.stuNumber,callback:function(t){e.$set(e.studentPage.params,"stuNumber",t)},expression:"studentPage.params.stuNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别"}},[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:e.studentPage.params.stuSex,callback:function(t){e.$set(e.studentPage.params,"stuSex",t)},expression:"studentPage.params.stuSex"}},[a("el-option",{key:"1",attrs:{label:"男",value:"1"}}),e._v(" "),a("el-option",{key:"2",attrs:{label:"女",value:"2"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"专业"}},[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:e.studentPage.params.majorId,callback:function(t){e.$set(e.studentPage.params,"majorId",t)},expression:"studentPage.params.majorId"}},e._l(e.majorList,function(e){return a("el-option",{key:e.dictId,attrs:{label:e.dictName,value:e.dictId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"学院"}},[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:e.studentPage.params.collegeId,callback:function(t){e.$set(e.studentPage.params,"collegeId",t)},expression:"studentPage.params.collegeId"}},e._l(e.collegeList,function(e){return a("el-option",{key:e.dictId,attrs:{label:e.dictName,value:e.dictId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"入学时间区间"}},[a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.timeInterval,callback:function(t){e.timeInterval=t},expression:"timeInterval"}})],1)]),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.getStudentPage}},[e._v("查询")])],1)],1),e._v(" "),a("hr"),e._v(" "),e.permission.indexOf("ex:exam:stu:add")>=0?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.addStudentBatch}},[e._v("添加")]):e._e()],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:this.$store.getters.loading,expression:"this.$store.getters.loading"}],staticStyle:{width:"100%"},attrs:{data:e.studentPage.list,border:"",stripe:"",size:"mini"},on:{"sort-change":e.sortStudentHandler,"selection-change":e.changeSelect}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"student.stuNumber",sortable:"custom",label:"学号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"student.stuName",sortable:"custom",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"custom",label:"性别"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(1==t.row.student.stuSex?"男":"女"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"student.stuAge",sortable:"custom",label:"年龄"}}),e._v(" "),a("el-table-column",{attrs:{prop:"student.major.dictName",sortable:"custom",label:"专业"}}),e._v(" "),a("el-table-column",{attrs:{prop:"student.stuEntranceTime",sortable:"custom",label:"入学时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"student.college.dictName",sortable:"custom",label:"学院"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.permission.indexOf("ex:exam:stu:add")>=0?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.addStudent(t.row.student.stuId)}}},[e._v("加入")]):e._e()]}}])})],1),e._v(" "),a("div",{staticClass:"page-div"},[a("el-pagination",{attrs:{"current-page":e.studentPage.currentPage,"page-sizes":[10,15,20,30],"page-size":e.studentPage.currentCount,layout:"total, sizes, prev, pager, next, jumper",total:e.studentPage.totalCount},on:{"size-change":e.handleStudentSizeChange,"current-change":e.handleStudentCurrentChange}})],1)],1),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogStudentList,title:"考生",width:"85%"},on:{"update:visible":function(t){e.dialogStudentList=t}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:this.$store.getters.loading,expression:"this.$store.getters.loading"}],staticStyle:{width:"100%"},attrs:{data:e.examStudentList,border:"",stripe:"",size:"mini"}},[a("el-table-column",{attrs:{prop:"student.stuNumber",sortable:"custom",label:"学号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"student.stuName",sortable:"custom",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"custom",label:"性别"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(1==t.row.student.stuSex?"男":"女"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"student.stuAge",sortable:"custom",label:"年龄"}}),e._v(" "),a("el-table-column",{attrs:{prop:"student.major.dictName",sortable:"custom",label:"专业"}}),e._v(" "),a("el-table-column",{attrs:{prop:"student.stuEntranceTime",sortable:"custom",label:"入学时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"student.college.dictName",sortable:"custom",label:"学院"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.permission.indexOf("ex:exam:stu:delete")>=0?a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.deleteStudentById(t.row.stId,t.row.stExam)}}},[e._v("删除")]):e._e()]}}])})],1)],1),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogExamInfo,title:"详情信息"},on:{"update:visible":function(t){e.dialogExamInfo=t}}},[a("p",[e._v("所用试卷："+e._s(e.examInfo.paper.paperTitle))]),e._v(" "),a("el-divider"),e._v(" "),a("p",[e._v("考试时间："+e._s(e.examInfo.examDate))]),e._v(" "),a("el-divider"),e._v(" "),a("p",[e._v("考试时长："+e._s(e.examInfo.examTime)+" 分钟")]),e._v(" "),a("el-divider"),e._v(" "),a("p",[e._v("\n      考试类型：\n      "),0==e.examInfo.examType?a("span",[e._v("平常测试")]):e._e(),e._v(" "),1==e.examInfo.examType?a("span",[e._v("考试")]):e._e(),e._v(" "),2==e.examInfo.examType?a("span",[e._v("补考")]):e._e()]),e._v(" "),a("el-divider"),e._v(" "),a("p",[e._v("考场："+e._s(e.examInfo.room.roomName))]),e._v(" "),a("el-divider"),e._v(" "),a("p",[e._v("监考教师："+e._s(e.examInfo.teacherList.length)+" 名")]),e._v(" "),a("p",e._l(e.examInfo.teacherList,function(t){return a("span",{key:t.ttId},[a("el-tag",{attrs:{type:"success"}},[e._v(e._s(t.teacher.teacherName))]),e._v(" \n      ")],1)})),e._v(" "),a("el-divider"),e._v(" "),a("p",[e._v("考生："+e._s(e.examInfo.studentList.length)+" 名")]),e._v(" "),a("p",e._l(e.examInfo.studentList,function(t){return a("span",{key:t.stId},[a("el-tag",{attrs:{type:"success"}},[e._v(e._s(t.student.stuName))]),e._v(" \n      ")],1)})),e._v(" "),a("el-divider"),e._v(" "),a("p",[e._v("备注："+e._s(e.examInfo.examComment))])],1),e._v(" "),a("el-dialog",{attrs:{title:"智能组卷",visible:e.dialogGa},on:{"update:visible":function(t){e.dialogGa=t}}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:this.$store.getters.loading,expression:"this.$store.getters.loading"}],attrs:{model:e.gaPaper,size:"mini"}},[e._l(e.gaPaper.configList,function(t,l){return a("el-form-item",{key:l,attrs:{inline:!0}},[a("div",{staticClass:"input-div"},[a("h2",{staticStyle:{"text-align":"center"}},[e._v("题型 "+e._s(l+1))]),e._v(" "),a("el-form-item",{attrs:{label:"难度系数","label-width":"80px"}},[a("el-rate",{attrs:{"show-score":"","text-color":"#ff9900","score-template":"{value}"},model:{value:t.difficulty,callback:function(a){e.$set(t,"difficulty",a)},expression:"config.difficulty"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分值","label-width":"80px"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入分值"},model:{value:t.totalScore,callback:function(a){e.$set(t,"totalScore",a)},expression:"config.totalScore"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"题量","label-width":"80px"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入题目数"},model:{value:t.questionNum,callback:function(a){e.$set(t,"questionNum",a)},expression:"config.questionNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"知识点","label-width":"80px"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择",clearable:"",multiple:""},on:{change:e.getGaType},model:{value:t.knowledgeIds,callback:function(a){e.$set(t,"knowledgeIds",a)},expression:"config.knowledgeIds"}},e._l(e.knowList,function(e){return a("el-option",{key:e.knowId,attrs:{label:e.knowName,value:e.knowId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"题型","label-width":"80px"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.typeId,callback:function(a){e.$set(t,"typeId",a)},expression:"config.typeId"}},e._l(e.typeList,function(e){return a("el-option",{key:e.typeId,attrs:{label:e.typeName,value:e.typeId}})}))],1),e._v(" "),a("div",{staticClass:"delete-div"},[a("el-button",{attrs:{type:"danger"},on:{click:function(a){a.preventDefault(),e.removeConfig(t)}}},[e._v("删除")])],1)],1)])}),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.gaSubmit}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:e.addConfig}},[e._v("添题型题")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogGa=!1}}},[e._v("取消")])],1)],2)],1)],1)},[],!1,null,"073af197",null);S.options.__file="ExamList.vue";t.default=S.exports},bEmV:function(e,t,a){"use strict";var l=a("t3Un");t.a={save:function(e){return Object(l.a)({url:"/paper/add",method:"post",data:e})},list:function(e){return Object(l.a)({url:"/paper/list",method:"post",data:e})},delete:function(e){return Object(l.a)({url:"/paper/delete/"+e,method:"delete"})},get:function(e){return Object(l.a)({url:"/paper/get/"+e,method:"get"})},update:function(e){return Object(l.a)({url:"/paper/update",method:"put",data:e})},questionList:function(e){return Object(l.a)({url:"/paper/questionList/"+e,method:"get"})},submitPaper:function(e){return Object(l.a)({url:"/paper/submit/"+e,method:"get"})},submitPaperGa:function(e){return Object(l.a)({url:"/paper/gaSubmit",method:"post",data:e})},typeNum:function(e){return Object(l.a)({url:"/paper/typeNum/"+e,method:"get"})},all:function(){return Object(l.a)({url:"/paper/all",method:"get"})}}},mvtb:function(e,t,a){"use strict";var l=a("t3Un");t.a={login:function(e){return Object(l.a)({url:"/teacher/login",method:"post",data:e})},save:function(e){return Object(l.a)({url:"/teacher/add",method:"post",data:e})},update:function(e){return Object(l.a)({url:"/teacher/update",method:"put",data:e})},rePwd:function(e){return Object(l.a)({url:"/teacher/rePwd",method:"put",data:e})},resetPwd:function(e){return Object(l.a)({url:"/teacher/resetPwd",method:"put",data:e})},resetAll:function(){return Object(l.a)({url:"/teacher/resetAll",method:"get"})},list:function(e){return Object(l.a)({url:"/teacher/list",method:"post",data:e})},get:function(e){return Object(l.a)({url:"/teacher/get/"+e,method:"get"})},info:function(){return Object(l.a)({url:"/teacher/info",method:"get"})},delete:function(e){return Object(l.a)({url:"/teacher/delete/"+e,method:"delete"})},all:function(e){return Object(l.a)({url:"/teacher/all",method:"post",data:e})},freeList:function(){return Object(l.a)({url:"/teacher/freeList",method:"get"})}}},oBwb:function(e,t,a){"use strict";var l=a("t3Un");t.a={save:function(e){return""===e.typeId?Object(l.a)({url:"/type/add",method:"post",data:e}):Object(l.a)({url:"/type/update",method:"put",data:e})},list:function(e){return Object(l.a)({url:"/type/list",method:"post",data:e})},get:function(e){return Object(l.a)({url:"/type/get/"+e,method:"get"})},delete:function(e){return Object(l.a)({url:"/type/delete/"+e,method:"delete"})},update:function(e){return Object(l.a)({url:"/type/update",method:"put",data:e})},all:function(){return Object(l.a)({url:"/type/all",method:"get"})},allByKnowIds:function(e){return Object(l.a)({url:"/type/all",method:"post",data:e})},allByKnow:function(e){return Object(l.a)({url:"/type/all/"+e,method:"get"})}}},tCaQ:function(e,t,a){},twU4:function(e,t,a){"use strict";var l=a("t3Un");t.a={save:function(e){return""===e.dictId?Object(l.a)({url:"/dict/add",method:"post",data:e}):Object(l.a)({url:"/dict/update",method:"put",data:e})},list:function(e){return Object(l.a)({url:"/dict/list",method:"post",data:e})},get:function(e){return Object(l.a)({url:"/dict/get/"+e,method:"get"})},delete:function(e){return Object(l.a)({url:"/dict/delete/"+e,method:"delete"})},all:function(e){return Object(l.a)({url:"/dict/all",method:"post",data:e})},getByFather:function(e){return Object(l.a)({url:"/dict/childList/"+e,method:"get"})}}}}]);