(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-b5ad"],{"1X6q":function(e,t,a){"use strict";a.r(t);var r=a("mvtb"),l=a("twU4"),i=(a("vqCa"),a("zF5t")),c=a("t3Un"),o=function(e){return Object(c.a)({url:"/teacherRole/roleList/"+e,method:"get"})},s=function(e){return Object(c.a)({url:"/teacherRole/update",method:"put",data:e})},n={data:function(){return{permission:this.$store.getters.auths,timeInterval:null,dialogFormVisible:!1,dialogData:!1,dialogRoleTree:!1,dialogResumeVisible:!1,page:{currentPage:1,currentCount:10,totalCount:null,totalPage:null,sortName:"",sortOrder:"asc",params:{teacherNumber:"",teacherCard:"",teacherName:"",teacherMobile:"",teacherEmail:"",teacherSex:"",jobId:"",titleId:"",collegeId:"",startTime:"",endTime:""},list:[]},teacher:{teacherId:"",teacherNumber:"",teacherPassword:"",teacherCard:"",teacherName:"",teacherSex:"",teacherAge:"",teacherJob:"",teacherTitle:"",teacherMobile:"",teacherEmail:"",teacherImg:"",teacherEntryTime:"",teacherCollege:""},rules:{teacherNumber:[{required:!0,message:"请输入工号",trigger:"blur"}],teacherPassword:[{required:!0,message:"请输入密码",trigger:"blur"}],teacherName:[{required:!0,message:"请输入姓名",trigger:"blur"}],teacherSex:[{required:!0,message:"请选择性别",trigger:"blur"}],teacherAge:[{required:!0,message:"年龄不能为空",trigger:"blur"}],teacherImg:[{required:!0,message:"请输入题库名",trigger:"blur"}]},collegeList:[],jobList:[],titleList:[],college:"",title:"",job:"",imageUrl:"",imgLoading:!1,isdisabledFn:!1,dialogTitle:"新增教师",currentPage4:4,roleTree:[{roleId:""}],defaultProps:{children:"list",label:"roleName"},checkIds:[],checkTeacher:"",teacherRoles:[],selectIds:[]}},methods:{handleSizeChange:function(e){this.page.currentCount=e,this.list()},handleCurrentChange:function(e){this.page.currentPage=e,this.list()},sortHandler:function(e){this.page.sortName=e.prop,this.page.sortOrder=e.order,this.list()},save:function(){var e=this;""!=this.teacher.teacherId?this.$refs.teacher.validate(function(t){if(!t)return console.log("error submit!!"),!1;e.$store.commit("SET_LOADING",!0),r.a.update(e.teacher).then(function(t){200==t.code&&(e.dialogFormVisible=!1,e.$message.success(t.msg),e.list())})}):this.$refs.teacher.validate(function(t){if(!t)return console.log("error submit!!"),!1;e.$store.commit("SET_LOADING",!0),r.a.save(e.teacher).then(function(t){200==t.code?(e.dialogFormVisible=!1,e.$message.success(t.msg),e.list()):(e.dialogFormVisible=!1,e.$message.error("保存失败!"))})})},updateDataAuth:function(){var e=this;this.$store.commit("SET_LOADING",!0),r.a.update(this.teacher).then(function(t){200==t.code&&(e.dialogData=!1,e.$message.success(t.msg),e.list())})},list:function(){var e=this;this.$store.commit("SET_LOADING",!0),null!=this.timeInterval?(this.page.params.startTime=this.timeInterval[0],this.page.params.endTime=this.timeInterval[1]):(this.page.params.startTime="",this.page.params.endTime=""),r.a.list(this.page).then(function(t){200==t.code&&(e.page=t.data)})},toUpdate:function(e){var t=this;r.a.get(e).then(function(e){200==e.code&&(t.teacher=e.data,t.imageUrl=t.teacher.teacherImg,t.dialogTitle="修改教师",t.dialogFormVisible=!0,t.isdisabledFn=!0)})},checkDataAuth:function(e){var t=this;r.a.get(e).then(function(e){200==e.code&&(t.teacher=e.data,t.dialogData=!0)})},getDetails:function(e){var t=this;r.a.get(e).then(function(e){200==e.code&&(t.teacher=e.data,t.dialogResumeVisible=!0)})},toAdd:function(){this.college={collegeId:"",collegeName:""},this.title={titleId:"",titleName:""},this.job={jobId:"",jobName:""},this.teacher={teacherId:"",teacherName:""},this.dialogTitle="新增教师",this.dialogFormVisible=!0,this.isdisabledFn=!1},toDelete:function(e){var t=this;this.$confirm("确定删除这条记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(function(){r.a.delete(e).then(function(e){200==e.code?t.$message({message:e.msg,teacher:"success"}):t.$message({message:e.msg,teacher:"error"}),t.list()})})},getCollege:function(){var e=this;l.a.all({dictType:"college"}).then(function(t){e.collegeList=t.data})},getJob:function(){var e=this;l.a.all({dictType:"job"}).then(function(t){e.jobList=t.data})},getTitle:function(){var e=this;l.a.all({dictType:"title"}).then(function(t){e.titleList=t.data})},handleAvatarSuccess:function(e,t){this.imageUrl=e.data.fileUrl,this.teacher.teacherImg=this.imageUrl,this.$message.success(e.msg),this.imgLoading=!1},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type,a=e.size/1024/1024<5;if(t){if(a)return this.imgLoading=!0,t&&a;this.$message.error("上传图片大小不能超过 5MB!")}else this.$message.error("上传图片只支持 JPG、JPEG、PNG 格式!")},search:function(){this.list()},treeList:function(){var e=this;i.a.treeList().then(function(t){200==t.code&&(e.roleTree=t.data)})},checkRole:function(e){var t=this;this.checkTeacher=e,this.teacherRoles=[],this.dialogRoleTree=!0,this.$nextTick(function(){t.$refs.tree.setCheckedKeys([])}),o(e).then(function(e){200==e.code&&(t.checkIds=e.data,t.checkIds.forEach(function(e,a){t.teacherRoles.push({trTeacher:t.checkTeacher,trRole:e})}))})},updateRole:function(){var e=this;s(this.teacherRoles).then(function(t){200==t.code&&(e.dialogRoleTree=!1,e.$message.success(t.msg))})},handleCheckChange:function(e,t,a){var r=this.teacherRoles.findIndex(function(t){return t.trRole==e.roleId});t&&-1===r&&this.teacherRoles.push({trTeacher:this.checkTeacher,trRole:e.roleId}),t||-1===r||this.teacherRoles.splice(r,1)},changeSelect:function(e){var t=e.map(function(e){return e.teacherId});this.selectIds=t},resetPwd:function(){var e=this;this.$confirm("密码将会重置为身份证后6位，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r.a.resetPwd(e.selectIds).then(function(t){200==t.code&&e.$message.success(t.msg),e.list()})})},resetAll:function(){var e=this;this.$confirm("密码将会重置为身份证后6位，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"danger"}).then(function(){r.a.resetAll().then(function(t){200==t.code&&e.$message.success(t.msg),e.list()})})}},created:function(){this.list(),this.getCollege(),this.getTitle(),this.getJob(),this.treeList()}},h=(a("yq2W"),a("ZrdR")),d=Object(h.a)(n,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"table-header"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.page,size:"mini"}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{placeholder:"教师名",clearable:""},model:{value:e.page.params.teacherName,callback:function(t){e.$set(e.page.params,"teacherName",t)},expression:"page.params.teacherName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工号"}},[a("el-input",{attrs:{placeholder:"工号",clearable:""},model:{value:e.page.params.teacherNumber,callback:function(t){e.$set(e.page.params,"teacherNumber",t)},expression:"page.params.teacherNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别"}},[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:e.page.params.teacherSex,callback:function(t){e.$set(e.page.params,"teacherSex",t)},expression:"page.params.teacherSex"}},[a("el-option",{key:"1",attrs:{label:"男",value:"1"}}),e._v(" "),a("el-option",{key:"2",attrs:{label:"女",value:"2"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"职务"}},[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:e.page.params.jobId,callback:function(t){e.$set(e.page.params,"jobId",t)},expression:"page.params.jobId"}},e._l(e.jobList,function(e){return a("el-option",{key:e.dictId,attrs:{label:e.dictName,value:e.dictId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"职称"}},[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:e.page.params.titleId,callback:function(t){e.$set(e.page.params,"titleId",t)},expression:"page.params.titleId"}},e._l(e.titleList,function(e){return a("el-option",{key:e.dictId,attrs:{label:e.dictName,value:e.dictId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"学院"}},[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:e.page.params.collegeId,callback:function(t){e.$set(e.page.params,"collegeId",t)},expression:"page.params.collegeId"}},e._l(e.collegeList,function(e){return a("el-option",{key:e.dictId,attrs:{label:e.dictName,value:e.dictId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"入职时间区间",prop:""}},[a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.timeInterval,callback:function(t){e.timeInterval=t},expression:"timeInterval"}})],1)]),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1)],1),e._v(" "),a("el-divider"),e._v(" "),e.permission.indexOf("user:teacher:add")>=0?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.toAdd}},[e._v("添加")]):e._e(),e._v(" "),e.permission.indexOf("user:teacher:update")>=0?a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:e.resetPwd}},[e._v("重置密码")]):e._e(),e._v(" "),e.permission.indexOf("user:teacher:update")>=0?a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.resetAll}},[e._v("全部密码重置")]):e._e()],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:this.$store.getters.loading,expression:"this.$store.getters.loading"}],staticStyle:{width:"100%"},attrs:{data:e.page.list,border:"",stripe:"",size:"mini"},on:{"sort-change":e.sortHandler,"selection-change":e.changeSelect}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"teacherNumber",sortable:"custom",label:"工号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"teacherName",sortable:"custom",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"custom",label:"性别"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(1==t.row.teacherSex?"男":"女"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"teacherAge",sortable:"custom",label:"年龄"}}),e._v(" "),a("el-table-column",{attrs:{prop:"job.dictName",sortable:"custom",label:"职务"}}),e._v(" "),a("el-table-column",{attrs:{prop:"title.dictName",sortable:"custom",label:"职称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"teacherEntryTime",sortable:"custom",label:"入职时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"college.dictName",sortable:"custom",label:"学院"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-dropdown",[a("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("\n            操作\n            "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[e.permission.indexOf("user:teacher:update")>=0?a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){e.toUpdate(t.row.teacherId)}}},[e._v("编辑")]):e._e()],1),e._v(" "),a("el-dropdown-item",[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.getDetails(t.row.teacherId)}}},[e._v("查看详情")])],1),e._v(" "),a("el-dropdown-item",[e.permission.indexOf("user:teacher:role")>=0?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.checkRole(t.row.teacherId)}}},[e._v("修改角色")]):e._e()],1),e._v(" "),a("el-dropdown-item",[e.permission.indexOf("ar:role:auth")>=0?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.checkDataAuth(t.row.teacherId)}}},[e._v("数据级权限")]):e._e()],1),e._v(" "),a("el-dropdown-item",[e.permission.indexOf("user:teacher:delete")>=0?a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.toDelete(t.row.teacherId)}}},[e._v("删除")]):e._e()],1)],1)],1)]}}])})],1),e._v(" "),a("div",{staticClass:"page-div"},[a("el-pagination",{attrs:{"current-page":e.page.currentPage,"page-sizes":[10,15,20,30],"page-size":e.page.currentCount,layout:"total, sizes, prev, pager, next, jumper",total:e.page.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:this.$store.getters.loading,expression:"this.$store.getters.loading"}],attrs:{title:e.dialogTitle,visible:e.dialogFormVisible,width:"580px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"teacher",attrs:{rules:e.rules,inline:!0,model:e.teacher,"label-width":"80px",size:"mini"}},[a("el-form-item",{attrs:{label:"工号",prop:"teacherNumber"}},[a("el-input",{attrs:{disabled:e.isdisabledFn,clearable:""},model:{value:e.teacher.teacherNumber,callback:function(t){e.$set(e.teacher,"teacherNumber",t)},expression:"teacher.teacherNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"teacherPassword"}},[a("el-input",{attrs:{clearable:"",type:"password"},model:{value:e.teacher.teacherPassword,callback:function(t){e.$set(e.teacher,"teacherPassword",t)},expression:"teacher.teacherPassword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名",prop:"teacherName"}},[a("el-input",{attrs:{clearable:""},model:{value:e.teacher.teacherName,callback:function(t){e.$set(e.teacher,"teacherName",t)},expression:"teacher.teacherName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证号",prop:"teacherCard"}},[a("el-input",{attrs:{clearable:""},model:{value:e.teacher.teacherCard,callback:function(t){e.$set(e.teacher,"teacherCard",t)},expression:"teacher.teacherCard"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"年龄",prop:"teacherAge"}},[a("el-input",{attrs:{clearable:""},model:{value:e.teacher.teacherAge,callback:function(t){e.$set(e.teacher,"teacherAge",t)},expression:"teacher.teacherAge"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"teacherMobile"}},[a("el-input",{attrs:{clearable:""},model:{value:e.teacher.teacherMobile,callback:function(t){e.$set(e.teacher,"teacherMobile",t)},expression:"teacher.teacherMobile"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱",prop:"teacherEmail"}},[a("el-input",{attrs:{clearable:""},model:{value:e.teacher.teacherEmail,callback:function(t){e.$set(e.teacher,"teacherEmail",t)},expression:"teacher.teacherEmail"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"学院",prop:"teacherCollege"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择",clearable:""},model:{value:e.teacher.teacherCollege,callback:function(t){e.$set(e.teacher,"teacherCollege",t)},expression:"teacher.teacherCollege"}},e._l(e.collegeList,function(e){return a("el-option",{key:e.dictId,attrs:{label:e.dictName,value:e.dictId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"职称",prop:"teacherCollege"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择",clearable:""},model:{value:e.teacher.teacherTitle,callback:function(t){e.$set(e.teacher,"teacherTitle",t)},expression:"teacher.teacherTitle"}},e._l(e.titleList,function(e){return a("el-option",{key:e.dictId,attrs:{label:e.dictName,value:e.dictId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"职务"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择",clearable:""},model:{value:e.teacher.teacherJob,callback:function(t){e.$set(e.teacher,"teacherJob",t)},expression:"teacher.teacherJob"}},e._l(e.jobList,function(e){return a("el-option",{key:e.dictId,attrs:{label:e.dictName,value:e.dictId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"入职时间",prop:"teacherName"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"选择时间","value-format":"yyyy-MM-dd"},model:{value:e.teacher.teacherEntryTime,callback:function(t){e.$set(e.teacher,"teacherEntryTime",t)},expression:"teacher.teacherEntryTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别",prop:"teacherSex"}},[a("el-radio-group",{model:{value:e.teacher.teacherSex,callback:function(t){e.$set(e.teacher,"teacherSex",t)},expression:"teacher.teacherSex"}},[a("el-radio",{attrs:{label:1}},[e._v("男")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("女")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"照片"}},[a("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:e.imgLoading,expression:"imgLoading"}],staticClass:"avatar-uploader",attrs:{action:"http://tn20898453.51mypc.cn/upload","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload,name:"file"}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{staticClass:"teacher-submit-part"},[a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")])],1)],1)],1),e._v(" "),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:this.$store.getters.loading,expression:"this.$store.getters.loading"}],attrs:{title:"详细信息",visible:e.dialogResumeVisible,width:"580px"},on:{"update:visible":function(t){e.dialogResumeVisible=t}}},[a("el-form",{ref:"teacher",attrs:{rules:e.rules,inline:!0,model:e.teacher,"label-width":"80px",size:"mini","label-position":"right",disabled:!1}},[a("img",{staticClass:"avatar",staticStyle:{margin:"-6% 39% 2%"},attrs:{src:e.teacher.teacherImg}}),e._v(" "),a("el-form-item",{attrs:{label:"工号",prop:"teacherNumber"}},[a("el-input",{attrs:{disabled:e.isdisabledFn},model:{value:e.teacher.teacherNumber,callback:function(t){e.$set(e.teacher,"teacherNumber",t)},expression:"teacher.teacherNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"teacherPassword"}},[a("el-input",{attrs:{type:"password"},model:{value:e.teacher.teacherPassword,callback:function(t){e.$set(e.teacher,"teacherPassword",t)},expression:"teacher.teacherPassword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名",prop:"teacherName"}},[a("el-input",{attrs:{disabled:e.isdisabledFn},model:{value:e.teacher.teacherName,callback:function(t){e.$set(e.teacher,"teacherName",t)},expression:"teacher.teacherName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别",prop:"teacherSex"}},[a("el-radio-group",{model:{value:e.teacher.teacherSex,callback:function(t){e.$set(e.teacher,"teacherSex",t)},expression:"teacher.teacherSex"}},[a("el-radio",{attrs:{label:1}},[e._v("男")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("女")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证号",prop:"teacherCard"}},[a("el-input",{attrs:{disabled:e.isdisabledFn},model:{value:e.teacher.teacherCard,callback:function(t){e.$set(e.teacher,"teacherCard",t)},expression:"teacher.teacherCard"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"年龄",prop:"teacherAge"}},[a("el-input",{model:{value:e.teacher.teacherAge,callback:function(t){e.$set(e.teacher,"teacherAge",t)},expression:"teacher.teacherAge"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"teacherMobile"}},[a("el-input",{model:{value:e.teacher.teacherMobile,callback:function(t){e.$set(e.teacher,"teacherMobile",t)},expression:"teacher.teacherMobile"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱",prop:"teacherEmail"}},[a("el-input",{model:{value:e.teacher.teacherEmail,callback:function(t){e.$set(e.teacher,"teacherEmail",t)},expression:"teacher.teacherEmail"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"学院",prop:"teacherCollege"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.teacher.teacherCollege,callback:function(t){e.$set(e.teacher,"teacherCollege",t)},expression:"teacher.teacherCollege"}},e._l(e.collegeList,function(e){return a("el-option",{key:e.dictId,attrs:{label:e.dictName,value:e.dictId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"职称",prop:"teacherCollege"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.teacher.teacherTitle,callback:function(t){e.$set(e.teacher,"teacherTitle",t)},expression:"teacher.teacherTitle"}},e._l(e.titleList,function(e){return a("el-option",{key:e.dictId,attrs:{label:e.dictName,value:e.dictId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"职务"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.teacher.teacherJob,callback:function(t){e.$set(e.teacher,"teacherJob",t)},expression:"teacher.teacherJob"}},e._l(e.jobList,function(e){return a("el-option",{key:e.dictId,attrs:{label:e.dictName,value:e.dictId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"入职时间",prop:"teacherName"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"选择时间","value-format":"yyyy-MM-dd"},model:{value:e.teacher.teacherEntryTime,callback:function(t){e.$set(e.teacher,"teacherEntryTime",t)},expression:"teacher.teacherEntryTime"}})],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"修改角色",visible:e.dialogRoleTree},on:{"update:visible":function(t){e.dialogRoleTree=t}}},[a("el-tree",{ref:"tree",attrs:{data:e.roleTree,props:e.defaultProps,"show-checkbox":"","node-key":"roleId","default-expand-all":"","default-checked-keys":e.checkIds},on:{"check-change":e.handleCheckChange}}),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.updateRole}},[e._v("提交")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.dialogRoleTree=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{on:{click:function(t){e.checkIds=[]}}},[e._v("火狐")])],1),e._v(" "),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:this.$store.getters.loading,expression:"this.$store.getters.loading"}],attrs:{title:"数据权限操作",visible:e.dialogData,width:"580px"},on:{"update:visible":function(t){e.dialogData=t}}},[a("el-form",{attrs:{model:e.teacher,"label-width":"80px",size:"mini"}},[a("el-form-item",{attrs:{label:"查询权限级别"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择",clearable:""},model:{value:e.teacher.teacherOrg,callback:function(t){e.$set(e.teacher,"teacherOrg",t)},expression:"teacher.teacherOrg"}},[a("el-option",{key:1,attrs:{label:"查看自己创建的",value:1}}),e._v(" "),a("el-option",{key:2,attrs:{label:"查看学院的",value:2}}),e._v(" "),a("el-option",{key:3,attrs:{label:"查看全部",value:3}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"teacher-submit-part"},[a("el-button",{attrs:{type:"primary"},on:{click:e.updateDataAuth}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")])],1)],1)],1)],1)},[],!1,null,"2cafad22",null);d.options.__file="TeacherList.vue";t.default=d.exports},ZD0A:function(e,t,a){},mvtb:function(e,t,a){"use strict";var r=a("t3Un");t.a={login:function(e){return Object(r.a)({url:"/teacher/login",method:"post",data:e})},save:function(e){return Object(r.a)({url:"/teacher/add",method:"post",data:e})},update:function(e){return Object(r.a)({url:"/teacher/update",method:"put",data:e})},rePwd:function(e){return Object(r.a)({url:"/teacher/rePwd",method:"put",data:e})},resetPwd:function(e){return Object(r.a)({url:"/teacher/resetPwd",method:"put",data:e})},resetAll:function(){return Object(r.a)({url:"/teacher/resetAll",method:"get"})},list:function(e){return Object(r.a)({url:"/teacher/list",method:"post",data:e})},get:function(e){return Object(r.a)({url:"/teacher/get/"+e,method:"get"})},info:function(){return Object(r.a)({url:"/teacher/info",method:"get"})},delete:function(e){return Object(r.a)({url:"/teacher/delete/"+e,method:"delete"})},all:function(e){return Object(r.a)({url:"/teacher/all",method:"post",data:e})},freeList:function(){return Object(r.a)({url:"/teacher/freeList",method:"get"})}}},twU4:function(e,t,a){"use strict";var r=a("t3Un");t.a={save:function(e){return""===e.dictId?Object(r.a)({url:"/dict/add",method:"post",data:e}):Object(r.a)({url:"/dict/update",method:"put",data:e})},list:function(e){return Object(r.a)({url:"/dict/list",method:"post",data:e})},get:function(e){return Object(r.a)({url:"/dict/get/"+e,method:"get"})},delete:function(e){return Object(r.a)({url:"/dict/delete/"+e,method:"delete"})},all:function(e){return Object(r.a)({url:"/dict/all",method:"post",data:e})},getByFather:function(e){return Object(r.a)({url:"/dict/childList/"+e,method:"get"})}}},yq2W:function(e,t,a){"use strict";var r=a("ZD0A");a.n(r).a},zF5t:function(e,t,a){"use strict";var r=a("t3Un");t.a={save:function(e){return Object(r.a)({url:"/role/add",method:"post",data:e})},update:function(e){return Object(r.a)({url:"/role/update",method:"put",data:e})},all:function(){return Object(r.a)({url:"/role/all",method:"get"})},treeList:function(){return Object(r.a)({url:"/role/treeList",method:"get"})},get:function(e){return Object(r.a)({url:"/role/get/"+e,method:"get"})},delete:function(e){return Object(r.a)({url:"/role/delete/"+e,method:"delete"})}}}}]);