(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2dbf"],{ISpm:function(e,t,i){},IjLu:function(e,t,i){"use strict";i.r(t);var n=i("t3Un"),a=function(e){return Object(n.a)({url:"/trueFalse/add",method:"post",data:e})},l=function(e){return Object(n.a)({url:"/trueFalse/list",method:"post",data:e})},s=function(e){return Object(n.a)({url:"/trueFalse/delete/"+e,method:"delete"})},o=function(e){return Object(n.a)({url:"/trueFalse/get/"+e,method:"get"})},r=function(e){return Object(n.a)({url:"/trueFalse/update",method:"put",data:e})},c={components:{Tinymce:i("glbJ").a},data:function(){return{tinymce:{type:1,dialogTinymceVisible:!1,tempValue:"",tempObj:{}},permission:this.$store.getters.auths,dialogTitle:"添加题目",dialogFormVisible:!1,page:{currentPage:1,currentCount:10,totalCount:null,totalPage:null,sortName:"",sortOrder:"asc",params:{bankId:this.$route.query.bankId,knowId:this.$route.query.knowId},list:[]},trueFalse:{tfBank:this.$route.query.bankId,tfKnow:this.$route.query.knowId,tfTitle:"",tfResolve:""}}},methods:{toAdd:function(){this.trueFalse.tfId="",this.dialogFormVisible=!0,this.dialogTitle="添加题目"},save:function(){var e=this;""==this.trueFalse.tfId?a(this.trueFalse).then(function(t){200==t.code&&(e.$message.success(t.msg),e.dialogFormVisible=!1,e.list())}):r(this.trueFalse).then(function(t){200==t.code&&(e.$message.success(t.msg),e.dialogFormVisible=!1,e.list())})},list:function(){var e=this;this.$store.commit("SET_LOADING",!0),l(this.page).then(function(t){200==t.code&&(e.page=t.data)})},toUpdate:function(e){var t=this;o(e).then(function(e){t.trueFalse=e.data,t.dialogTitle="修改题目",t.dialogFormVisible=!0})},deleteById:function(e){var t=this;this.$confirm("确定从题库中删除本题吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(function(){s(e).then(function(e){200==e.code&&(t.$message.success(e.msg),t.list())})})},lookResolve:function(e){this.$alert(e.tfResolve,"答案解析",{dangerouslyUseHTMLString:!0})},handleSizeChange:function(e){this.page.currentCount=e,this.list()},handleCurrentChange:function(e){this.page.currentPage=e,this.list()},initTinymce:function(e,t){this.tinymce.type=t;var i="";1===t?i=e.tfTitle:2===t&&(i=e.tfResolve),this.tinymce.tempObj=e,this.tinymce.dialogTinymceVisible=!0,this.$refs.editor.setContent(i)},updateTinymceData:function(){var e=this.$refs.editor.getContent(),t=this.tinymce.type;1===t?this.trueFalse.tfTitle=e:2===t&&(this.trueFalse.tfResolve=e),this.tinymce.dialogTinymceVisible=!1}},created:function(){this.list(),this.tinymce.dialogTinymceVisible=!0},mounted:function(){this.tinymce.dialogTinymceVisible=!1}},u=(i("QfDT"),i("ZrdR")),d=Object(u.a)(c,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"table-header"},[i("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.page,size:"mini"}},[i("el-form-item",{attrs:{label:"题干"}},[i("el-input",{attrs:{placeholder:"题干",clearable:""},model:{value:e.page.params.title,callback:function(t){e.$set(e.page.params,"title",t)},expression:"page.params.title"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"难度系数"}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:e.page.params.difficulty,callback:function(t){e.$set(e.page.params,"difficulty",t)},expression:"page.params.difficulty"}},e._l(5,function(e){return i("el-option",{key:e,attrs:{label:e,value:e}})}))],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.list}},[e._v("查询")])],1)],1),e._v(" "),i("el-divider"),e._v(" "),e.permission.indexOf("question:add")>=0?i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.toAdd}},[e._v("添加")]):e._e()],1),e._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:this.$store.getters.loading,expression:"this.$store.getters.loading"}]},e._l(e.page.list,function(t,n){return i("el-row",{key:t.tfId},[i("el-card",{staticClass:"card-box"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("div",{staticStyle:{float:"left","padding-top":"10px","line-height":"10px"}},[i("div",{staticClass:"num-div"},[e._v(e._s(n+1+". "))]),e._v(" "),i("div",{staticClass:"content-div",domProps:{innerHTML:e._s(t.tfTitle)}}),e._v(" "),i("div",{staticClass:"point-div"},[e._v(e._s(". ("+t.tfScore+"分)"))])]),e._v(" "),i("el-dropdown",{staticStyle:{float:"right","margin-top":"8px"}},[i("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("\n              操作\n              "),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",[e.permission.indexOf("question:update")>=0?i("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(i){e.toUpdate(t.tfId)}}},[e._v("编辑")]):e._e()],1),e._v(" "),i("el-dropdown-item",[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(i){e.lookResolve(t)}}},[e._v("查看解析")])],1),e._v(" "),i("el-dropdown-item",[e.permission.indexOf("question:delete")>=0?i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){e.deleteById(t.tfId)}}},[e._v("删除")]):e._e()],1)],1)],1)],1),e._v(" "),i("div",{staticClass:"bottom clearfix"},[i("div",{staticStyle:{color:"red"}},[e._v("答案："+e._s(1==t.tfTrue?"正确":"错误"))]),e._v(" "),i("div",{staticStyle:{"margin-top":"8px"}},[i("el-rate",{attrs:{disabled:"","show-score":"","allow-half":"","text-color":"#ff9900","score-template":"难度系数: {value}"},model:{value:t.tfDifficulty,callback:function(i){e.$set(t,"tfDifficulty",i)},expression:"question.tfDifficulty"}})],1)])])],1)})),e._v(" "),i("div",{staticClass:"page-div banklist-page"},[i("el-pagination",{attrs:{"current-page":e.page.currentPage,"page-sizes":[5,10,15,20],"page-size":e.page.currentCount,layout:"total, sizes, prev, pager, next, jumper",total:e.page.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),i("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{directives:[{name:"loading",rawName:"v-loading",value:this.$store.getters.loading,expression:"this.$store.getters.loading"}],attrs:{model:e.trueFalse,"label-width":"80px",size:"mini"}},[i("el-form-item",{attrs:{label:"题目"}},[i("el-input",{model:{value:e.trueFalse.tfTitle,callback:function(t){e.$set(e.trueFalse,"tfTitle",t)},expression:"trueFalse.tfTitle"}},[i("el-button",{attrs:{slot:"append"},on:{click:function(t){e.initTinymce(e.trueFalse,1)}},slot:"append"},[e._v("高级输入")])],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"分值"}},[i("el-input",{attrs:{clearable:""},model:{value:e.trueFalse.tfScore,callback:function(t){e.$set(e.trueFalse,"tfScore",t)},expression:"trueFalse.tfScore"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"是否正确"}},[i("el-radio",{attrs:{label:1},model:{value:e.trueFalse.tfTrue,callback:function(t){e.$set(e.trueFalse,"tfTrue",t)},expression:"trueFalse.tfTrue"}},[e._v("正确")]),e._v(" "),i("el-radio",{attrs:{label:0},model:{value:e.trueFalse.tfTrue,callback:function(t){e.$set(e.trueFalse,"tfTrue",t)},expression:"trueFalse.tfTrue"}},[e._v("错误")])],1),e._v(" "),i("el-form-item",{attrs:{label:"难度系数"}},[i("el-rate",{attrs:{"show-score":"","text-color":"#ff9900","score-template":"{value}"},model:{value:e.trueFalse.tfDifficulty,callback:function(t){e.$set(e.trueFalse,"tfDifficulty",t)},expression:"trueFalse.tfDifficulty"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"解析"}},[i("el-input",{model:{value:e.trueFalse.tfResolve,callback:function(t){e.$set(e.trueFalse,"tfResolve",t)},expression:"trueFalse.tfResolve"}},[i("el-button",{attrs:{slot:"append"},on:{click:function(t){e.initTinymce(e.trueFalse,2)}},slot:"append"},[e._v("高级输入")])],1)],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("提交")]),e._v(" "),i("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")])],1)],1)],1),e._v(" "),i("el-dialog",{attrs:{visible:e.tinymce.dialogTinymceVisible},on:{"update:visible":function(t){e.$set(e.tinymce,"dialogTinymceVisible",t)}}},[i("tinymce",{ref:"editor",attrs:{height:300},model:{value:e.tinymce.tempValue,callback:function(t){e.$set(e.tinymce,"tempValue",t)},expression:"tinymce.tempValue"}}),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.tinymce.dialogTinymceVisible=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.updateTinymceData}},[e._v("确定")])],1)],1)],1)},[],!1,null,"71c92677",null);d.options.__file="TrueFalseList.vue";t.default=d.exports},JfHZ:function(e,t,i){},QfDT:function(e,t,i){"use strict";var n=i("JfHZ");i.n(n).a},glbJ:function(e,t,i){"use strict";var n=["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr imagetools importcss insertdatetime link lists nonbreaking noneditable pagebreak preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],a=["bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen"],l=i("t3Un"),s=function(e){return Object(l.a)({url:"/upload",method:"post",data:e})},o={name:"Tinymce",props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:Number,required:!1,default:360}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN"}}},computed:{language:function(){return this.languageTypeList.zh}},watch:{value:function(e){var t=this;!this.hasChange&&this.hasInit&&this.$nextTick(function(){return window.tinymce.get(t.tinymceId).setContent(e||"")})},language:function(){var e=this;this.destroyTinymce(),this.$nextTick(function(){return e.initTinymce()})}},mounted:function(){this.initTinymce()},destroyed:function(){this.destroyTinymce()},methods:{initTinymce:function(){window.tinymce.init({language:this.language,selector:"#"+this.tinymceId,toolbar:this.toolbar.length>0?this.toolbar:a,plugins:["powerpaste",n],object_resizing:!0,end_container_on_empty_block:!0,powerpaste_word_import:"merge",powerpaste_html_import:"merge",powerpaste_allow_local_images:!0,paste_retain_style_properties:"all",paste_word_valid_elements:"*[*]",paste_data_images:!0,paste_convert_word_fake_lists:!0,nonbreaking_force_tab:!0,images_upload_handler:function(e,t,i){var n=new FormData;n.append("file",e.blob()),s(n).then(function(e){console.log(e.data.fileUrl);var i=e.data.fileUrl;t(i)})}})},destroyTinymce:function(){window.tinymce.get(this.tinymceId)&&window.tinymce.get(this.tinymceId).destroy()},setContent:function(e){window.tinymce.get(this.tinymceId).setContent(e)},getContent:function(){return window.tinymce.get(this.tinymceId).getContent()}}},r=(i("v57J"),i("ZrdR")),c=Object(r.a)(o,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tinymce-container editor-container",class:{fullscreen:this.fullscreen}},[t("textarea",{staticClass:"tinymce-textarea",attrs:{id:this.tinymceId}})])},[],!1,null,"77265664",null);c.options.__file="index.vue";t.a=c.exports},v57J:function(e,t,i){"use strict";var n=i("ISpm");i.n(n).a}}]);