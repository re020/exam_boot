(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-44cc"],{"/FFt":function(e,t,n){"use strict";n.r(t);var a=n("3HAv"),i=n("22oc"),o=n("oBwb"),s=n("7HY+"),l={data:function(){return{permission:this.$store.getters.auths,page:{params:{bankId:this.$route.params.bankId}},bank:{college:{},subject:{}},dialogFormVisible:!1,bankKnowledge:{knowId:"",knowBank:this.$route.params.bankId},dialogTitle:"新增知识点",dialogType:!1,typeList:[],bankType:{},bankTypeList:[]}},methods:{toAdd:function(){this.dialogFormVisible=!0,this.dialogTitle="新增知识点",this.bankKnowledge={knowId:"",knowBank:this.page.params.bankId}},toUpdate:function(e){var t=this;i.a.get(e).then(function(e){200==e.code&&(t.bankKnowledge=e.data,t.dialogTitle="修改知识点",t.dialogFormVisible=!0)})},getBank:function(){var e=this;a.a.get(this.page.params.bankId).then(function(t){200==t.code&&(e.bank=t.data)})},save:function(){var e=this;""!=this.bankKnowledge.knowId?i.a.update(this.bankKnowledge).then(function(t){200==t.code&&e.$message.success(t.msg),e.dialogFormVisible=!1,e.list()}):i.a.save(this.bankKnowledge).then(function(t){200==t.code&&e.$message.success(t.msg),e.dialogFormVisible=!1,e.list()})},list:function(){var e=this;this.$store.commit("SET_LOADING",!0),i.a.list(this.page).then(function(t){200==t.code&&(e.page=t.data)})},deleteKnow:function(e){var t=this;this.$confirm("确定删除这条记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(function(){i.a.delete(e).then(function(e){200==e.code&&(t.$message.success(e.msg),t.list())})})},handleSizeChange:function(e){this.page.currentCount=e,this.list()},handleCurrentChange:function(e){this.page.currentPage=e,this.list()},toType:function(e){this.bankType.bankKnow=e,this.bankType.bankId=this.page.params.bankId,this.btList(),this.dialogType=!0},getTypeList:function(){var e=this;this.$store.commit("SET_LOADING",!0),o.a.all().then(function(t){e.typeList=t.data})},addBankType:function(){var e=this;s.a.save(this.bankType).then(function(t){200==t.code&&(e.$message.success(t.msg),e.btList())})},deleteBankType:function(e){var t=this;this.$confirm("确定从题库中移出此题型吗？, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(function(){s.a.delete(e).then(function(e){200==e.code&&(t.$message.success(e.msg),t.btList())})})},btList:function(){var e=this;s.a.list(this.bankType.bankKnow).then(function(t){e.bankTypeList=t.data})},toQuestion:function(e,t){1==t||2==t?this.$router.push({name:"choice",query:{bankId:e,typeId:t,knowId:this.bankType.bankKnow}}):3==t?this.$router.push({name:"truefalse",query:{bankId:e,knowId:this.bankType.bankKnow}}):4==t?this.$router.push({name:"completion",query:{bankId:e,knowId:this.bankType.bankKnow}}):5==t?this.$router.push({name:"code",query:{bankId:e,typeId:t,knowId:this.bankType.bankKnow}}):this.$router.push({name:"question",query:{bankId:e,typeId:t,knowId:this.bankType.bankKnow}})}},created:function(){this.getBank(),this.list(),this.getTypeList()}},r=(n("gkdL"),n("ZrdR")),d=Object(r.a)(l,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"table-header"},[n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.page,size:"mini"}},[n("el-form-item",{attrs:{label:"知识点"}},[n("el-input",{attrs:{placeholder:"知识点",clearable:""},model:{value:e.page.params.knowName,callback:function(t){e.$set(e.page.params,"knowName",t)},expression:"page.params.knowName"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.list}},[e._v("查询")])],1)],1),e._v(" "),n("el-divider"),e._v(" "),e.permission.indexOf("know:add")>=0?n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.toAdd}},[e._v("添加")]):e._e()],1),e._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:6}},[n("div",{directives:[{name:"loading",rawName:"v-loading",value:this.$store.getters.loading,expression:"this.$store.getters.loading"}],staticClass:"grid-content bg-purple"},[n("el-card",{staticClass:"bank-card",staticStyle:{padding:"0px"},attrs:{"body-style":{padding:"0px"},shadow:"hover"}},[n("img",{staticClass:"image",attrs:{src:e.bank.bankImg}}),e._v(" "),n("div",{staticStyle:{padding:"8px"}},[n("p",[e._v("题库名称: "+e._s(e.bank.bankName))]),e._v(" "),n("p",[e._v("学院: "+e._s(e.bank.college.dictName))]),e._v(" "),n("p",[e._v("科目: "+e._s(e.bank.subject.dictName))])])])],1)]),e._v(" "),n("el-col",{attrs:{span:18}},[n("div",{staticClass:"grid-content bg-purple"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:this.$store.getters.loading,expression:"this.$store.getters.loading"}],staticStyle:{width:"100%"},attrs:{data:e.page.list}},[n("el-table-column",{attrs:{type:"index",label:"编号"}}),e._v(" "),n("el-table-column",{attrs:{prop:"knowName",align:"center",label:"知识点"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-dropdown",[n("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("\n                  操作"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[e.permission.indexOf("know:update")>=0?n("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(n){e.toUpdate(t.row.knowId)}}},[e._v("编辑")]):e._e()],1),e._v(" "),n("el-dropdown-item",[e.permission.indexOf("know:type:list")>=0?n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){e.toType(t.row.knowId)}}},[e._v("查看题型")]):e._e()],1),e._v(" "),n("el-dropdown-item",[e.permission.indexOf("know:delete")>=0?n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){e.deleteKnow(t.row.knowId)}}},[e._v("删除")]):e._e()],1)],1)],1)]}}])})],1)],1),e._v(" "),n("div",{staticClass:"page-div banklist-page"},[n("el-pagination",{attrs:{"current-page":e.page.currentPage,"page-sizes":[10,15,20,30],"page-size":e.page.currentCount,layout:"total, sizes, prev, pager, next, jumper",total:e.page.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])],1),e._v(" "),n("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[n("el-form",{attrs:{model:e.bankKnowledge,"label-width":"100px",size:"mini"}},[n("el-form-item",{attrs:{label:"知识点名称"}},[n("el-input",{attrs:{clearable:""},model:{value:e.bankKnowledge.knowName,callback:function(t){e.$set(e.bankKnowledge,"knowName",t)},expression:"bankKnowledge.knowName"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("提交")]),e._v(" "),n("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")])],1)],1)],1),e._v(" "),n("el-dialog",{attrs:{title:"查看题型",visible:e.dialogType},on:{"update:visible":function(t){e.dialogType=t}}},[n("el-form",{directives:[{name:"loading",rawName:"v-loading",value:this.$store.getters.loading,expression:"this.$store.getters.loading"}],staticClass:"demo-form-inline",attrs:{inline:!0,model:e.page,size:"mini","label-width":"80px"}},[n("el-form-item",{attrs:{label:"题型"}},[n("el-select",{attrs:{filterable:"",placeholder:"请选择",clearable:""},model:{value:e.bankType.bankType,callback:function(t){e.$set(e.bankType,"bankType",t)},expression:"bankType.bankType"}},e._l(e.typeList,function(e){return n("el-option",{key:e.typeId,attrs:{label:e.typeName,value:e.typeId}})}))],1),e._v(" "),n("el-form-item",[e.permission.indexOf("know:type:add")>=0?n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.addBankType}},[e._v("添加")]):e._e()],1)],1),e._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.bankTypeList}},[n("el-table-column",{attrs:{type:"index","show-header":"false"}}),e._v(" "),n("el-table-column",{attrs:{prop:"type.typeName","show-header":"false",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{"show-header":"false",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.permission.indexOf("question:list")>=0?n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){e.toQuestion(t.row.bankId,t.row.bankType)}}},[e._v("\n            查看题目\n          ")]):e._e(),e._v(" "),e.permission.indexOf("know:type:delete")>=0?n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){e.deleteBankType(t.row.id)}}},[e._v("删除")]):e._e()]}}])})],1)],1)],1)},[],!1,null,"caee7006",null);d.options.__file="KnowledgeList.vue";t.default=d.exports},"22oc":function(e,t,n){"use strict";var a=n("t3Un");t.a={save:function(e){return Object(a.a)({url:"/bankKnowledge/add",method:"post",data:e})},list:function(e){return Object(a.a)({url:"/bankKnowledge/list",method:"post",data:e})},get:function(e){return Object(a.a)({url:"/bankKnowledge/get/"+e,method:"get"})},allByBank:function(e){return Object(a.a)({url:"/bankKnowledge/all/"+e,method:"get"})},all:function(){return Object(a.a)({url:"/bankKnowledge/all",method:"get"})},update:function(e){return Object(a.a)({url:"/bankKnowledge/update",method:"put",data:e})},delete:function(e){return Object(a.a)({url:"/bankKnowledge/delete/"+e,method:"delete"})}}},"3HAv":function(e,t,n){"use strict";var a=n("t3Un");t.a={save:function(e){return Object(a.a)({url:"/bank/add",method:"post",data:e})},update:function(e){return Object(a.a)({url:"/bank/update",method:"put",data:e})},list:function(e){return Object(a.a)({url:"/bank/list",method:"post",data:e})},all:function(){return Object(a.a)({url:"/bank/all",method:"get"})},get:function(e){return Object(a.a)({url:"/bank/get/"+e,method:"get"})},delete:function(e){return Object(a.a)({url:"/bank/delete/"+e,method:"delete"})}}},"7HY+":function(e,t,n){"use strict";var a=n("t3Un");t.a={save:function(e){return Object(a.a)({url:"/bankType/addType",method:"post",data:e})},list:function(e){return Object(a.a)({url:"/bankType/list/"+e,method:"get"})},delete:function(e){return Object(a.a)({url:"/bankType/delete/"+e,method:"delete"})}}},d0wP:function(e,t,n){},gkdL:function(e,t,n){"use strict";var a=n("d0wP");n.n(a).a},oBwb:function(e,t,n){"use strict";var a=n("t3Un");t.a={save:function(e){return""===e.typeId?Object(a.a)({url:"/type/add",method:"post",data:e}):Object(a.a)({url:"/type/update",method:"put",data:e})},list:function(e){return Object(a.a)({url:"/type/list",method:"post",data:e})},get:function(e){return Object(a.a)({url:"/type/get/"+e,method:"get"})},delete:function(e){return Object(a.a)({url:"/type/delete/"+e,method:"delete"})},update:function(e){return Object(a.a)({url:"/type/update",method:"put",data:e})},all:function(){return Object(a.a)({url:"/type/all",method:"get"})},allByKnowIds:function(e){return Object(a.a)({url:"/type/all",method:"post",data:e})},allByKnow:function(e){return Object(a.a)({url:"/type/all/"+e,method:"get"})}}}}]);